import{r as o}from"./react-JcUiJokc.js";function c(){const[u,e]=o.useState({isAuthenticated:!1,isLoading:!0,user:null});o.useEffect(()=>{s()},[]);const s=async()=>{try{const t=localStorage.getItem("auth_token");if(!t){e({isAuthenticated:!1,isLoading:!1,user:null});return}const a=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${t}`}});if(a.ok){const n=await a.json();e({isAuthenticated:!0,isLoading:!1,user:n})}else localStorage.removeItem("auth_token"),e({isAuthenticated:!1,isLoading:!1,user:null})}catch(t){console.error("Auth check failed:",t),e({isAuthenticated:!1,isLoading:!1,user:null})}};return{...u,login:(t,a)=>{localStorage.setItem("auth_token",t),e({isAuthenticated:!0,isLoading:!1,user:a})},logout:()=>{localStorage.removeItem("auth_token"),e({isAuthenticated:!1,isLoading:!1,user:null})},checkAuthStatus:s}}export{c as u};
//# sourceMappingURL=use-auth-check-DT23GU2D.js.map
