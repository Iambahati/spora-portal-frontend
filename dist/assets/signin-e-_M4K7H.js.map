{"version":3,"file":"signin-e-_M4K7H.js","sources":["../../router/pages/auth/signin.tsx"],"sourcesContent":["import React, { useState } from \"react\"\nimport { Link, useNavigate, useLocation } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useAuth } from \"@/lib/auth-context\"\nimport { loginSchema, type LoginFormData } from \"@/lib/validation-schemas\"\nimport { useI18n } from \"@/lib/i18n/context\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Eye, EyeOff, Mail, ArrowRight, AlertCircle, Lock, Loader2, User } from \"lucide-react\"\nimport RouterAuthLayout from \"@/router/components/router-auth-layout\"\n\nexport default function SignInPage() {\n  const navigate = useNavigate()\n  const location = useLocation()\n  const { login, loading, error, clearError } = useAuth()\n  const { t } = useI18n()\n  \n  const [showPassword, setShowPassword] = useState(false)\n  \n  // Get the intended destination from location state\n  const from = location.state?.from?.pathname || \"/kyc-portal\"\n\n  const form = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n      remember_me: false,\n    },\n  })\n\n  const onSubmit = async (data: LoginFormData) => {\n    try {\n      clearError()\n      await login({\n        email: data.email,\n        password: data.password,\n      })\n      \n      // Navigate to intended destination or default\n      navigate(from, { replace: true })\n    } catch (error) {\n      // Error is handled by the auth context\n      console.error('Login failed:', error)\n    }\n  }\n\n  return (\n    <RouterAuthLayout>\n      <div className=\"w-full max-w-md mx-auto\">\n        {/* Mobile branding */}\n        <div className=\"lg:hidden text-center mb-8\">\n          <div className=\"mx-auto mb-4 w-12 h-12 bg-primary rounded-xl flex items-center justify-center\">\n            <span className=\"text-primary-foreground font-bold text-lg\">SB</span>\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Spora One Trust</h1>\n          <p className=\"text-gray-600\">Investor Portal</p>\n        </div>\n\n        <Card className=\"bg-white border-0 shadow-2xl rounded-3xl overflow-hidden\">\n          <CardHeader className=\"space-y-3 text-center pb-8 pt-12\">\n            <CardTitle className=\"text-3xl font-bold\">\n              {t(\"auth.welcomeBack\")}\n            </CardTitle>\n            <CardDescription className=\"text-lg text-gray-500\">\n              {t(\"auth.signInToAccount\")}\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"space-y-8 px-12 pb-12\">\n            {/* Error alert */}\n            {error && (\n              <Alert variant=\"destructive\" className=\"animate-in fade-in-50 border-red-200 bg-red-50\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription className=\"text-sm font-medium\">{error}</AlertDescription>\n              </Alert>\n            )}\n\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n              {/* Email input */}\n              <div className=\"space-y-3\">\n                <Label \n                  htmlFor=\"email\" \n                  className=\"text-sm font-semibold flex items-center gap-2\"\n                  style={{ color: \"#6b7280\" }}\n                >\n                  <User style={{ height: \"0.875rem\", width: \"0.875rem\", color: \"#6b7280\" }} />\n                  {t(\"common.email\")}\n                </Label>\n                <div className=\"relative\">\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"Enter your email\"\n                    className=\"h-14 text-base border-gray-200 rounded-xl focus:border-transparent focus:ring-2 focus:ring-orange-500/20 transition-all duration-200\"\n                    autoComplete=\"email\"\n                    {...form.register(\"email\")}\n                  />\n                </div>\n                {form.formState.errors.email && (\n                  <p className=\"text-sm text-red-500 flex items-center gap-1 animate-in slide-in-from-left-2\">\n                    <AlertCircle className=\"h-3 w-3 flex-shrink-0\" />\n                    <span>{form.formState.errors.email.message}</span>\n                  </p>\n                )}\n              </div>\n\n              {/* Password input */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label \n                    htmlFor=\"password\" \n                    className=\"text-sm font-semibold flex items-center gap-2\"\n                    style={{ color: \"#6b7280\" }}\n                  >\n                    <Lock className=\"h-4 w-4\" style={{ color: \"#6b7280\" }} />\n                    {t(\"common.password\")}\n                  </Label>\n                  <Link\n                    to=\"/auth/forgot-password\"\n                    className=\"text-sm font-medium hover:underline transition-colors\"\n                    style={{ color: \"#eb6e03\" }}\n                  >\n                    {t(\"auth.forgotPassword\")}\n                  </Link>\n                </div>\n                <div className=\"relative\">\n                  <Input\n                    id=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Enter your password\"\n                    className=\"h-14 text-base pr-12 border-gray-200 rounded-xl focus:border-transparent focus:ring-2 focus:ring-orange-500/20 transition-all duration-200\"\n                    autoComplete=\"current-password\"\n                    {...form.register(\"password\")}\n                  />\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"absolute right-0 top-0 h-full px-4 hover:bg-transparent text-gray-400 hover:text-gray-600 transition-colors\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"h-5 w-5\" />\n                    ) : (\n                      <Eye className=\"h-5 w-5\" />\n                    )}\n                  </Button>\n                </div>\n                {form.formState.errors.password && (\n                  <p className=\"text-sm text-red-500 flex items-center gap-1 animate-in slide-in-from-left-2\">\n                    <AlertCircle className=\"h-3 w-3 flex-shrink-0\" />\n                    <span>{form.formState.errors.password.message}</span>\n                  </p>\n                )}\n              </div>\n\n              {/* Submit button */}\n              <Button\n                type=\"submit\"\n                className=\"w-full h-14 text-lg font-semibold rounded-xl transition-all duration-200 hover:shadow-lg transform hover:-translate-y-0.5\"\n                style={{ \n                  backgroundColor: \"#eb6e03\",\n                  borderColor: \"#eb6e03\"\n                }}\n                disabled={loading}\n              >\n                {loading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                    {t(\"loading.signingIn\")}\n                  </>\n                ) : (\n                  <>\n                    {t(\"auth.signIn\")}\n                    <ArrowRight className=\"ml-2 h-5 w-5\" />\n                  </>\n                )}\n              </Button>\n            </form>\n\n            {/* Signup link */}\n            <div className=\"text-center pt-4\">\n              <p className=\"text-gray-500\">\n                {t(\"auth.dontHaveAccount\")}{\" \"}\n                <Link\n                  to=\"/auth/signup\"\n                  className=\"font-semibold hover:underline transition-colors\"\n                  style={{ color: \"#eb6e03\" }}\n                >\n                  {t(\"auth.signUp\")}\n                </Link>\n              </p>\n            </div>\n            \n          </CardContent>\n        </Card>\n      </div>\n    </RouterAuthLayout>\n  )\n}\n\n\n"],"names":["SignInPage","navigate","useNavigate","location","useLocation","login","loading","error","clearError","useAuth","t","useI18n","showPassword","setShowPassword","useState","from","_b","_a","form","useForm","zodResolver","loginSchema","onSubmit","data","jsxDEV","RouterAuthLayout","Card","CardHeader","CardTitle","CardDescription","CardContent","Alert","AlertCircle","AlertDescription","Label","User","Input","Lock","Link","Button","EyeOff","Eye","Fragment","Loader2","ArrowRight"],"mappings":"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"}